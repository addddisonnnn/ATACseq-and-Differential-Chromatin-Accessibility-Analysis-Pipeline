params {
    // Sample information
    samplesheet = "$projectDir/atac_samples.csv"
    
    // Reference genome
    genome = "$projectDir/reference/genome.fa"
    gtf = "$projectDir/reference/genes.gtf"
    
    // Output
    outdir = "$projectDir/results/"
    
    // MACS3 parameters
    macs_gsize = "mm"  // Use 'mm' for mouse, 'hs' for human
    macs_qvalue = 0.05
}

profiles {
    conda {
        conda.enabled = true
    }
    
    singularity {
        singularity.enabled = true
        singularity.autoMounts = true
    }
    
    cluster {
        process {
            executor = 'sge'
            clusterOptions = '-P bf528'
            penv = 'omp'
            
            withLabel: process_single { cpus = 1 }
            withLabel: process_low { cpus = 4 }
            withLabel: process_medium { cpus = 8 }
            withLabel: process_high { cpus = 16 }
        }
    }
    
    local {
        process.executor = 'local'
        process.cpus = 4
    }
}

executor {
    $sge {
        queueSize = 8
    }
    $local {
        cpus = 4
    }
}

resume = true